(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ede3d53"],{d2cc:function(s,i,t){"use strict";var e=t("df64"),a=t.n(e);a.a},df64:function(s,i,t){},e690:function(s,i,t){"use strict";t.r(i);var e=function(){var s=this,i=s.$createElement,t=s._self._c||i;return t("div",{staticClass:"main-cnt"},[t("div",{staticClass:"bg"}),t("div",{staticClass:"top-right"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!s.isLogin,expression:"!isLogin"}],staticClass:"tr-btn-box"},[t("div",{staticClass:"tr-btn",on:{click:function(i){s.loginVisible=!0}}},[s._v("机构登录")]),t("div",{staticClass:"tr-btn",on:{click:function(i){s.registerVisible=!0}}},[s._v("机构注册")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:s.isLogin,expression:"isLogin"}],staticClass:"tr-name"},[s._v(s._s(s.more.name))])]),t("div",{staticClass:"search-cnt"},[t("div",{staticClass:"search-title"},[s._v("查询音乐版权信息")]),t("div",{staticClass:"search-box"},[t("el-input",{attrs:{placeholder:"输入音乐名称"},model:{value:s.musicName,callback:function(i){s.musicName=i},expression:"musicName"}}),t("el-input",{attrs:{placeholder:"输入作者"},model:{value:s.musicAuthor,callback:function(i){s.musicAuthor=i},expression:"musicAuthor"}}),t("el-button",{attrs:{plain:"",type:"success",icon:"el-icon-search",circle:""},on:{click:s.clickSearch}})],1)]),t("div",{staticClass:"more-cnt"},[t("div",{staticClass:"switch-box"},[t("div",{class:s.switchClass(1),on:{click:function(i){return s.switchItem(1)}}},[s._v("版权信息")]),t("div",{class:s.switchClass(2),on:{click:function(i){return s.switchItem(2)}}},[s._v("历史记录")]),t("div",{class:s.switchClass(3),on:{click:function(i){return s.switchItem(3)}}},[s._v("机构信息")])]),t("div",{staticClass:"cnts"},[s.isLogin?t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:s.isShowBox(1),expression:"isShowBox(1)"}],staticClass:"copyright-box"},[t("div",{staticClass:"--box"},[t("div",{staticClass:"title"},[s._v("登记信息")]),t("div",{staticClass:"line"},[t("div",{staticClass:"item"},[t("span",{staticClass:"label"},[s._v("作品名称：")]),t("span",{staticClass:"value"},[s._v(s._s(s.music.name))])]),t("div",{staticClass:"item"},[t("span",{staticClass:"label"},[s._v("登记时间：")]),t("span",{staticClass:"value"},[s._v(s._s(s.music.publish_time))])]),t("div",{staticClass:"item"},[t("span",{staticClass:"label"},[s._v("录制时间：")]),t("span",{staticClass:"value"},[s._v(s._s(s.music.record_time))])])])]),t("div",{staticClass:"--box"},[t("div",{staticClass:"title"},[s._v("作者信息")]),t("div",{staticClass:"item"},[t("span",{staticClass:"label"},[s._v("作者：")]),t("span",{staticClass:"value"},[s._v(s._s(s.music.author))])])]),t("div",{staticClass:"--box"},[t("div",{staticClass:"title"},[s._v("版权人信息")]),t("div",{staticClass:"line"},[t("div",{staticClass:"item"},[t("span",{staticClass:"label"},[s._v("姓名：")]),t("span",{staticClass:"value"},[s._v(s._s(s.music.owner))])]),t("div",{staticClass:"item"},[t("span",{staticClass:"label"},[s._v("身份证号码：")]),t("span",{staticClass:"value"},[s._v(s._s(s.music.code))])])]),t("div",{staticClass:"item"},[t("span",{staticClass:"label"},[s._v("所在地：")]),t("span",{staticClass:"value"},[s._v(s._s(s.music.address))])]),t("div",{staticClass:"line"},[t("div",{staticClass:"item"},[t("span",{staticClass:"label"},[s._v("联系电话：")]),t("span",{staticClass:"value"},[s._v(s._s(s.music.phone))])]),t("div",{staticClass:"item"},[t("span",{staticClass:"label"},[s._v("电子邮箱：")]),t("span",{staticClass:"value"},[s._v(s._s(s.music.email))])])])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:s.isShowBox(2),expression:"isShowBox(2)"}],staticClass:"history-box"},[s._v("暂无")]),t("div",{directives:[{name:"show",rawName:"v-show",value:s.isShowBox(3),expression:"isShowBox(3)"}],staticClass:"info-box"},[t("div",{staticClass:"item"},[t("span",[s._v("机构名称：")]),t("span",[s._v(s._s(s.more.name))])]),t("div",{staticClass:"item"},[t("span",[s._v("所在地：")]),t("span",[s._v(s._s(s.more.location))])]),t("div",{staticClass:"item"},[t("span",[s._v("联系方式：")]),t("span",[s._v(s._s(s.more.phone))])])])]):s._e()])]),t("el-dialog",{attrs:{title:"机构登录",visible:s.loginVisible,width:"30%",center:"","append-to-body":""},on:{"update:visible":function(i){s.loginVisible=i}}},[t("div",{staticClass:"ld-value"},[t("div",{staticClass:"label"},[s._v("私钥：")]),t("el-input",{staticClass:"myinput",attrs:{placeholder:"请输入私钥"},model:{value:s.privateKey,callback:function(i){s.privateKey=i},expression:"privateKey"}})],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:s.clickLogin}},[s._v("登 录")])],1)]),t("el-dialog",{attrs:{title:"机构注册",visible:s.registerVisible,width:"30%",center:"","append-to-body":""},on:{"update:visible":function(i){s.registerVisible=i}}},[t("div",{staticClass:"d-cnt"},[t("div",{staticClass:"d-line"},[t("div",{staticClass:"label"},[s._v("姓名：")]),t("el-input",{staticClass:"value",model:{value:s.register.name,callback:function(i){s.$set(s.register,"name",i)},expression:"register.name"}})],1),t("div",{staticClass:"d-line"},[t("div",{staticClass:"label"},[s._v("所在地：")]),t("el-input",{staticClass:"value",model:{value:s.register.location,callback:function(i){s.$set(s.register,"location",i)},expression:"register.location"}})],1),t("div",{staticClass:"d-line"},[t("div",{staticClass:"label"},[s._v("联系电话：")]),t("el-input",{staticClass:"value",model:{value:s.register.phone,callback:function(i){s.$set(s.register,"phone",i)},expression:"register.phone"}})],1),t("div",{staticClass:"d-line"},[t("div",{staticClass:"label"},[s._v("电子邮箱：")]),t("el-input",{staticClass:"value",model:{value:s.register.email,callback:function(i){s.$set(s.register,"email",i)},expression:"register.email"}})],1)]),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:s.clickRegister}},[s._v("确定申请")])],1)])],1)},a=[],c=(t("7f7f"),{data:function(){return{loginVisible:!1,registerVisible:!1,active:1,musicName:"",musicAuthor:"",showLogin:!0,privateKey:"",music:{name:" ",publish_time:" ",record_time:" ",author:" ",owner:" ",code:" ",address:" ",phone:" ",email:" "},register:{name:"",location:"",phone:"",email:"",privateKey:this.$store.state.privateKey},more:{name:" ",location:" ",phone:" "}}},computed:{isLogin:function(){return!(!this.$store.state.isLogin||"judge"!==this.$store.state.userType)}},methods:{switchItem:function(s){this.active!==s&&(this.active=s)},switchClass:function(s){return this.active===s?"switch-item switch-item-active":"switch-item"},isShowBox:function(s){return this.active===s},clickSearch:function(){var s=this;this.isLogin?this.axios.post("/api/judgesearch",{musicname:this.musicName,singer:this.musicAuthor,privateKey:this.$store.state.privateKey}).then(function(i){var t=i.data;if(0!==t.success){var e=t.data.music,a=t.data.user;s.music.name=e.name,s.music.author=e.singer,s.music.owner=a.name,s.music.code=a.id,s.music.address=a.location,s.music.phone=a.phone,s.music.email=a.email}else s.$message.error("无结果")}):this.$message.error("请先登录")},clickLogin:function(){var s=this;this.axios.post("/api/login",{privateKey:this.privateKey}).then(function(i){if(i=i.data,0===i.success)s.$message.error("私钥错误");else{var t=i.data;s.$store.commit("initSetState",{privateKey:s.privateKey,userType:t.type,isLogin:!0}),s.$store.commit("setUserType",t.kind),s.$store.commit("setUser",t),s.more.name=t.name,s.more.location=t.location,s.more.phone=t.phone,s.$message.success("登录成功")}}).catch(function(i){s.$message.error("私钥错误")}),this.loginVisible=!1},clickRegister:function(){var s=this;this.axios.post("/api/judgeapply",this.register).then(function(i){var t=i.data;1===t.success?s.$message.success("认证成功"):s.$message.error("认证失败")}),this.registerVisible=!1}}}),l=c,n=(t("d2cc"),t("2877")),o=Object(n["a"])(l,e,a,!1,null,"7b8b5b14",null);i["default"]=o.exports}}]);
//# sourceMappingURL=chunk-6ede3d53.e4bca60b.js.map